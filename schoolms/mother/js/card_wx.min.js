!function(t){var e={init:function(){var t=this;t.logValue={key:"mother_card_wx",pv:"init",back:"backToIndex"},t.resetWidth(),t.initText(),t.sendPV(),t.weixinShare(),t.bindEvent()},bindEvent:function(){var e=this;t("#p7Btn").on("touchstart",function(){God.util.jump("index_wx.html",e.logValue.back)})},sendPV:function(){var t=this;API.log.init(t.logValue.key),API.log(t.logValue.pv)},initText:function(){var e=God.common.getText(),n=God.common.getName;t("#p1").text(e.p1),t("#p2").text(e.p2),t("#p3").text(e.p3),t("#name").text(n),t("#p7Text").text(e.distance)},resetWidth:function(){var e=document.body.clientWidth,n=document.body.clientHeight,i=e/320,o=t("#main").find(".box");o.each(function(){this.style.zoom=i});var r=n/e*1e3;r>=1343.75&&1500>r&&t("body").addClass("s-screen"),1343.75>r&&t("body").addClass("ms-screen")},shareText:function(){var t=God.common.urlConfig.wap+"activity/mothersday/index_wx.html",e=["除了买买买，你需要get哄女人的新技能了！","世界再大，走不出妈妈的牵挂","用这招哄母上大人开心，距离不是问题"],n=Math.round(2*Math.random()),i=e[n],o="http://cache.amap.com/h5/activity/mothersDay/mqj.png",r="世上最美好的事是：我已经长大，你还未老；我有能力报答，你仍然健康。",a={title:i,desc:r,link:t,imgUrl:o};return a},weixinShare:function(){var t=this,e=t.loadResources();e(["http://res.wx.qq.com/open/js/jweixin-1.0.0.js"],function(){e(["http://wb.amap.com/sign.php"],function(){t.share()})})},share:function(){var t=this;wx.ready(function(){wx.checkJsApi({jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"],success:function(e){var n=t.shareText();e.checkResult.onMenuShareAppMessage&&wx.onMenuShareAppMessage({title:"世界再大，走不出妈妈的牵挂",desc:n.desc,link:n.link,imgUrl:n.imgUrl,success:function(t){API.log("share_result_ok_weixin")},error:function(t){}}),e.checkResult.onMenuShareTimeline&&wx.onMenuShareTimeline({title:n.title,link:n.link,imgUrl:n.imgUrl,success:function(t){API.log("share_result_ok_pengyou")},error:function(t){}})}})})},loadResources:function(){function t(){this.onload=null,this.onerror=null;var t=n[this.getAttribute("url")];t.status="loaded";for(var e=0,i=t.cbAry.length;i>e;e++)t.cbAry[e].call(null),t.cbAry[e]=null}function e(e,i){i||(i=function(){});var o=n[e]?n[e].status:"";if("loaded"===o)i.call(null);else if("loading"===o)n[e].cbAry.push(i);else{n[e]={status:"loading",cbAry:[i]};var r=null;r=document.createElement("script"),r.type="text/javascript",r.async=!0,attr="src",r.onload=t,r.onerror=t,r.setAttribute(attr,e),r.setAttribute("url",e),document.body.appendChild(r)}}var n={};return function(t,n){if(t){"string"==typeof t&&(t=[t]),n||(n=function(){});for(var i=t.length,o=i,r=0;i>r;r++)e(t[r],function(){--o||n.call(null)})}}}};e.init()}($);